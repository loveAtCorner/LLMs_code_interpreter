以下是给定Python脚本中所有函数和类的名称，以及它们的功能描述，按照Markdown表格的形式呈现：

| 类/函数名 | 功能描述 |
| --- | --- |
| `Evaluator` | 一个用于评估模型性能的类，包含初始化、批量推理和评估方法。 |
| `__init__` | 初始化方法，接收参数并设置模型、数据和评估参数。 |
| `batch_inference` | 在给定批次输入上执行模型推理，返回预测的字符。 |
| `eval` | 主评估方法，加载数据集，进行预测并计算精度。 |
| `_save_results` | 保存评估结果到文件。 |
| `run_eval` | 运行评估的入口函数，创建并调用`Evaluator`对象的`eval`方法。 |

类`Evaluator`的详细说明：

- `__init__`方法：
  - 初始化`Evaluator`对象，接收可选参数`args`。
  - 根据参数加载模型、数据和评估配置。
  - 设置tokenizer的填充侧为"right"。
  - 加载模板并修复tokenizer。
  - 加载模型。
  - 加载评估模板。
  - 获取所有选择项的编码。

- `batch_inference`方法：
  - 在给定批次输入上执行模型推理。
  - 计算每个批次的logits，然后只取最后一个单词的概率。
  - 对选择项的概率进行softmax并取最大值，得到预测的字符。

- `eval`方法：
  - 加载评估映射文件。
  - 遍历每个评估主题，加载数据集并格式化输入。
  - 批量预测并计算精度。
  - 将结果保存到文件。

- `_save_results`方法：
  - 打印每个类别的精度，并将结果保存到JSON文件。

- `run_eval`方法：
  - 创建`Evaluator`对象并调用其`eval`方法，执行评估。
